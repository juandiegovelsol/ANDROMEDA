<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no"
    />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <title>Hydration Tracker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap");
      body {
        font-family: "Montserrat", -apple-system, BlinkMacSystemFont, "Segoe UI",
          Roboto, sans-serif;
        background-image: radial-gradient(
            circle at 20% 20%,
            rgba(99, 102, 241, 0.12) 0%,
            transparent 40%
          ),
          radial-gradient(
            circle at 80% 80%,
            rgba(20, 184, 166, 0.1) 0%,
            transparent 40%
          ),
          radial-gradient(
            circle at 50% 0%,
            rgba(139, 92, 246, 0.08) 0%,
            transparent 50%
          ),
          radial-gradient(
            circle at 0% 50%,
            rgba(6, 182, 212, 0.06) 0%,
            transparent 50%
          ),
          linear-gradient(135deg, #0a0a0a 0%, #0f172a 50%, #111111 100%);
      }

      .loading-screen {
        background: radial-gradient(
            circle at 20% 20%,
            rgba(99, 102, 241, 0.15) 0%,
            transparent 40%
          ),
          radial-gradient(
            circle at 80% 80%,
            rgba(20, 184, 166, 0.12) 0%,
            transparent 40%
          ),
          linear-gradient(135deg, #0a0a0a 0%, #0f172a 50%, #111111 100%);
      }
      .main-water-drop {
        background: linear-gradient(
          135deg,
          rgba(59, 130, 246, 0.8),
          rgba(20, 184, 166, 0.9),
          rgba(16, 185, 129, 0.8)
        );
        filter: drop-shadow(0 0 30px rgba(59, 130, 246, 0.6))
          drop-shadow(0 0 60px rgba(20, 184, 166, 0.4));
      }
      .main-water-drop::before {
        content: "";
        position: absolute;
        top: 15%;
        left: 20%;
        width: 25%;
        height: 25%;
        background: radial-gradient(
          circle,
          rgba(255, 255, 255, 0.9) 0%,
          transparent 70%
        );
        border-radius: 50%;
        transform: rotate(45deg);
        filter: blur(2px);
      }
      .main-water-drop::after {
        content: "";
        position: absolute;
        bottom: 25%;
        right: 30%;
        width: 15%;
        height: 15%;
        background: radial-gradient(
          circle,
          rgba(255, 255, 255, 0.6) 0%,
          transparent 70%
        );
        border-radius: 50%;
        transform: rotate(45deg);
        filter: blur(1px);
      }
      .droplet {
        background: linear-gradient(
          135deg,
          rgba(59, 130, 246, 0.7),
          rgba(20, 184, 166, 0.8)
        );
      }
      .droplet:nth-child(1) {
        top: 20%;
        left: 80%;
        animation-delay: 0s;
        transform: rotate(-30deg);
      }
      .droplet:nth-child(2) {
        top: 60%;
        left: 90%;
        animation-delay: 0.5s;
        transform: rotate(-60deg);
      }
      .droplet:nth-child(3) {
        top: 80%;
        left: 60%;
        animation-delay: 1s;
        transform: rotate(-90deg);
      }
      .droplet:nth-child(4) {
        top: 70%;
        left: 10%;
        animation-delay: 1.5s;
        transform: rotate(-120deg);
      }
      .droplet:nth-child(5) {
        top: 30%;
        left: 5%;
        animation-delay: 2s;
        transform: rotate(-150deg);
      }
      .droplet:nth-child(6) {
        top: 10%;
        left: 40%;
        animation-delay: 2.5s;
        transform: rotate(-180deg);
      }
      .loading-progress-bar {
        background: linear-gradient(
          90deg,
          rgba(59, 130, 246, 0.8) 0%,
          rgba(20, 184, 166, 0.9) 50%,
          rgba(16, 185, 129, 0.8) 100%
        );
        box-shadow: 0 0 20px rgba(59, 130, 246, 0.5);
      }
      .loading-progress-bar::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.4),
          transparent
        );
        animation: progressShine 2s ease-in-out infinite;
      }
      .loading-bubble {
        background: radial-gradient(
          circle at 30% 30%,
          rgba(255, 255, 255, 0.4) 0%,
          rgba(59, 130, 246, 0.2) 30%,
          rgba(20, 184, 166, 0.15) 70%,
          transparent 100%
        );
        box-shadow: inset 2px 2px 6px rgba(255, 255, 255, 0.2),
          inset -2px -2px 6px rgba(0, 0, 0, 0.1),
          0 4px 12px rgba(59, 130, 246, 0.15);
      }
      @keyframes mainDropPulse {
        0%,
        100% {
          transform: rotate(-45deg) scale(1);
        }
        50% {
          transform: rotate(-45deg) scale(1.1);
        }
      }
      @keyframes floatAround {
        0%,
        100% {
          transform: translateY(0) scale(1) rotate(var(--rotate, 0deg));
          opacity: 0.7;
        }
        25% {
          transform: translateY(-20px) scale(1.2)
            rotate(calc(var(--rotate, 0deg) + 10deg));
          opacity: 1;
        }
        50% {
          transform: translateY(-10px) scale(0.9)
            rotate(calc(var(--rotate, 0deg) + 5deg));
          opacity: 0.8;
        }
        75% {
          transform: translateY(-15px) scale(1.1)
            rotate(calc(var(--rotate, 0deg) - 5deg));
          opacity: 0.9;
        }
      }
      @keyframes loadingProgress {
        0% {
          width: 0%;
        }
        100% {
          width: 100%;
        }
      }
      @keyframes progressShine {
        0% {
          left: -100%;
        }
        100% {
          left: 100%;
        }
      }
      @keyframes textFadeIn {
        0% {
          opacity: 0;
          transform: translateY(10px);
        }
        100% {
          opacity: 1;
          transform: translateY(0);
        }
      }
      @keyframes loadingBubbleFloat {
        0% {
          transform: translateY(105vh) scale(0);
          opacity: 0;
        }
        10% {
          opacity: 0.6;
          transform: translateY(90vh) scale(1);
        }
        50% {
          opacity: 0.8;
          transform: translateY(30vh) scale(1.1);
        }
        100% {
          transform: translateY(-20vh) scale(0);
          opacity: 0;
        }
      }

      .gradient-text {
        background-size: 300% 300%;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        color: transparent;
      }
      header h1.gradient-text {
        background-image: linear-gradient(
          135deg,
          #6366f1,
          #14b8a6,
          #8b5cf6,
          #06b6d4
        );
        filter: drop-shadow(0 2px 8px rgba(99, 102, 241, 0.3));
      }
      .progress-percentage.gradient-text {
        background-image: linear-gradient(135deg, #6366f1, #14b8a6);
      }
      .summary-value.gradient-text {
        background-image: linear-gradient(135deg, #6366f1, #14b8a6);
      }
      .progress-ring svg {
        filter: drop-shadow(0 0 30px rgba(99, 102, 241, 0.5))
          drop-shadow(0 0 60px rgba(20, 184, 166, 0.2));
      }
      .progress-ring:hover svg {
        filter: drop-shadow(0 0 40px rgba(99, 102, 241, 0.7))
          drop-shadow(0 0 80px rgba(20, 184, 166, 0.4));
      }
      .control-btn {
        background: linear-gradient(
          145deg,
          rgba(255, 255, 255, 0.08),
          rgba(255, 255, 255, 0.05)
        );
        box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.15),
          inset 0 -1px 0 rgba(0, 0, 0, 0.1), 0 10px 25px rgba(0, 0, 0, 0.2),
          0 5px 10px rgba(99, 102, 241, 0.1);
      }
      .control-btn:hover {
        background: linear-gradient(
          145deg,
          rgba(255, 255, 255, 0.12),
          rgba(255, 255, 255, 0.08)
        );
        box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.25),
          inset 0 -1px 0 rgba(0, 0, 0, 0.15), 0 25px 50px rgba(0, 0, 0, 0.4),
          0 0 40px rgba(99, 102, 241, 0.4), 0 0 80px rgba(20, 184, 166, 0.2);
      }
      .summary-card {
        background: linear-gradient(
          145deg,
          rgba(255, 255, 255, 0.08),
          rgba(255, 255, 255, 0.06)
        );
        box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.15),
          inset 0 -1px 0 rgba(0, 0, 0, 0.05), 0 15px 30px rgba(0, 0, 0, 0.15),
          0 5px 15px rgba(99, 102, 241, 0.05);
        animation: cardBreathe 8s ease-in-out infinite;
      }
      @media (hover: hover) and (pointer: fine) {
        .summary-card:hover {
          transform: translateY(-6px) scale(1.02) rotateX(1deg);
          box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.25),
            inset 0 -1px 0 rgba(0, 0, 0, 0.1), 0 20px 40px rgba(0, 0, 0, 0.25),
            0 0 25px rgba(99, 102, 241, 0.3), 0 0 50px rgba(99, 102, 241, 0.15);
          animation: none;
        }
      }
      .timeline {
        background: linear-gradient(
          145deg,
          rgba(255, 255, 255, 0.08),
          rgba(255, 255, 255, 0.06)
        );
      }
      .bg-bubble {
        position: absolute;
        border-radius: 50%;
        background: radial-gradient(
          circle at 30% 30%,
          rgba(255, 255, 255, 0.6) 0%,
          rgba(59, 130, 246, 0.3) 30%,
          rgba(20, 184, 166, 0.2) 70%,
          transparent 100%
        );
        box-shadow: inset 2px 2px 6px rgba(255, 255, 255, 0.3),
          inset -2px -2px 6px rgba(0, 0, 0, 0.1),
          0 4px 12px rgba(59, 130, 246, 0.2), 0 8px 24px rgba(20, 184, 166, 0.1);
        filter: blur(0.5px);
      }
      .bg-bubble::before {
        content: "";
        position: absolute;
        top: 15%;
        left: 20%;
        width: 25%;
        height: 25%;
        background: radial-gradient(
          circle,
          rgba(255, 255, 255, 0.8) 0%,
          transparent 70%
        );
        border-radius: 50%;
        filter: blur(1px);
      }
      .bg-bubble::after {
        content: "";
        position: absolute;
        bottom: 20%;
        right: 25%;
        width: 15%;
        height: 15%;
        background: radial-gradient(
          circle,
          rgba(255, 255, 255, 0.4) 0%,
          transparent 70%
        );
        border-radius: 50%;
        filter: blur(0.5px);
      }
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        -webkit-tap-highlight-color: transparent;
        user-select: none;
        touch-action: manipulation;
      }
      #timelineItems::-webkit-scrollbar {
        width: 6px;
      }
      #timelineItems::-webkit-scrollbar-track {
        background: rgba(255, 255, 255, 0.08);
        border-radius: 3px;
      }
      #timelineItems::-webkit-scrollbar-thumb {
        background: linear-gradient(135deg, #6366f1, #14b8a6);
        border-radius: 3px;
      }
      #timelineItems {
        scrollbar-width: thin;
        scrollbar-color: #6366f1 rgba(255, 255, 255, 0.08);
      }
      input[type="range"] {
        -webkit-appearance: none;
        appearance: none;
        background: transparent;
        width: 100%;
        height: 0.5rem;
        border-radius: 1rem;
        outline: none;
        cursor: pointer;
      }
      input[type="range"]::-webkit-slider-runnable-track {
        background: transparent;
        border: none;
        height: 100%;
        border-radius: 1rem;
      }
      input[type="range"]::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        margin-top: -6px; /* (track_height - thumb_height) / 2 = (8px - 20px) / 2 */
        background: linear-gradient(135deg, #6366f1, #14b8a6);
        height: 1.25rem;
        width: 1.25rem;
        border-radius: 50%;
        border: 2px solid rgba(255, 255, 255, 0.5);
        box-shadow: 0 0 10px rgba(99, 102, 241, 0.5);
        transition: transform 0.2s ease-in-out;
      }
      input[type="range"]:hover::-webkit-slider-thumb {
        transform: scale(1.1);
      }
      input[type="range"]::-moz-range-track {
        background: transparent;
        border: none;
        height: 100%;
        width: 100%;
        border-radius: 1rem;
      }
      input[type="range"]::-moz-range-thumb {
        background: linear-gradient(135deg, #6366f1, #14b8a6);
        height: 1.25rem;
        width: 1.25rem;
        border-radius: 50%;
        border: 2px solid rgba(255, 255, 255, 0.5);
        box-shadow: 0 0 10px rgba(99, 102, 241, 0.5);
        transition: transform 0.2s ease-in-out;
      }
      input[type="range"]:hover::-moz-range-thumb {
        transform: scale(1.1);
      }
      @keyframes fadeInScale {
        from {
          opacity: 0;
          transform: scale(0.95);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }
      @keyframes gradientShift {
        0%,
        100% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
      }
      @keyframes bubbleFloat {
        0% {
          transform: translateY(105vh) scale(0);
          opacity: 0;
        }
        10% {
          opacity: 0.6;
          transform: translateY(90vh) scale(1);
        }
        50% {
          opacity: 0.8;
          transform: translateY(40vh) scale(1.1);
        }
        90% {
          opacity: 0.4;
          transform: translateY(10vh) scale(0.9);
        }
        100% {
          transform: translateY(-10vh) scale(0);
          opacity: 0;
        }
      }
      @keyframes bubbleSlowFloat {
        0% {
          transform: translateY(105vh) scale(0.8);
          opacity: 0;
        }
        5% {
          opacity: 0.4;
          transform: translateY(95vh) scale(1);
        }
        25% {
          opacity: 0.6;
          transform: translateY(70vh) scale(1.1);
        }
        50% {
          opacity: 0.7;
          transform: translateY(45vh) scale(0.95);
        }
        75% {
          opacity: 0.5;
          transform: translateY(20vh) scale(1.05);
        }
        100% {
          transform: translateY(-10vh) scale(0.7);
          opacity: 0;
        }
      }
      @keyframes ringFloat {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-8px);
        }
      }
      @keyframes contentBreathe {
        0%,
        100% {
          box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.15),
            0 25px 50px rgba(0, 0, 0, 0.4);
        }
        50% {
          box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2),
            0 30px 60px rgba(0, 0, 0, 0.5), 0 0 30px rgba(59, 130, 246, 0.1);
        }
      }
      @keyframes cardBreathe {
        0%,
        100% {
          box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.1),
            0 10px 20px rgba(0, 0, 0, 0.2);
        }
        50% {
          box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.15),
            0 15px 30px rgba(0, 0, 0, 0.25), 0 0 20px rgba(59, 130, 246, 0.05);
        }
      }
      @keyframes slideInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    </style>
  </head>

  <body
    class="bg-slate-950 text-slate-50 min-h-screen flex flex-col antialiased"
  >
    <div
      id="loadingScreen"
      class="loading-screen fixed inset-0 z-[9999] flex flex-col justify-center items-center transition-opacity duration-800 ease-in-out"
    >
      <div
        id="loadingBubbles"
        class="loading-bubbles absolute inset-0 pointer-events-none overflow-hidden"
      ></div>
      <div
        class="loading-container relative flex flex-col items-center gap-[30px]"
      >
        <div
          class="floating-droplets absolute w-[200px] h-[200px] top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"
        >
          <div
            class="droplet absolute w-3 h-4 rounded-bl-none rounded-[50%] animate-[floatAround_4s_ease-in-out_infinite]"
          ></div>
          <div
            class="droplet absolute w-3 h-4 rounded-bl-none rounded-[50%] animate-[floatAround_4s_ease-in-out_infinite]"
          ></div>
          <div
            class="droplet absolute w-3 h-4 rounded-bl-none rounded-[50%] animate-[floatAround_4s_ease-in-out_infinite]"
          ></div>
          <div
            class="droplet absolute w-3 h-4 rounded-bl-none rounded-[50%] animate-[floatAround_4s_ease-in-out_infinite]"
          ></div>
          <div
            class="droplet absolute w-3 h-4 rounded-bl-none rounded-[50%] animate-[floatAround_4s_ease-in-out_infinite]"
          ></div>
          <div
            class="droplet absolute w-3 h-4 rounded-bl-none rounded-[50%] animate-[floatAround_4s_ease-in-out_infinite]"
          ></div>
        </div>
        <div
          class="main-water-drop w-20 h-24 rounded-bl-none rounded-[50%] -rotate-45 relative animate-[mainDropPulse_2s_ease-in-out_infinite]"
        ></div>
        <div
          class="loading-text text-slate-50 text-lg font-semibold tracking-wider opacity-0 animate-[textFadeIn_1s_ease-in_0.5s_forwards]"
        >
          Hydration Tracker
        </div>
        <div
          class="loading-subtext text-slate-200 text-sm font-normal mt-2 opacity-0 animate-[textFadeIn_1s_ease-in_1s_forwards]"
        >
          Preparing your water journey...
        </div>
        <div
          class="loading-progress-container w-[280px] h-2 bg-white/10 backdrop-blur-xl rounded-full border border-white/20 overflow-hidden relative mt-4"
        >
          <div
            class="loading-progress-bar h-full rounded-full w-0 relative animate-[loadingProgress_2.5s_ease-out_forwards]"
          ></div>
        </div>
      </div>
    </div>

    <div
      id="bubbleContainer"
      class="fixed inset-0 -z-10 pointer-events-none"
    ></div>

    <div
      class="container w-full max-w-7xl mx-auto flex-1 flex flex-col p-4 md:grid md:grid-cols-2 md:gap-6 md:p-6 md:items-start"
    >
      <header
        class="text-center mb-4 md:col-span-2 md:mb-0 flex flex-col justify-center"
      >
        <h1
          class="text-3xl font-bold mb-1 gradient-text animate-[gradientShift_6s_ease-in-out_infinite]"
        >
          Hydration Tracker
        </h1>
        <p
          class="text-sm font-medium opacity-90 text-slate-200"
          id="currentDate"
        ></p>
      </header>

      <div
        class="main-content flex flex-col gap-6 animate-[fadeInScale_0.5s_ease-out] md:col-start-1 md:row-start-2 md:mx-auto md:w-full md:max-w-md md:flex md:justify-center"
      >
        <div
          class="hydration-display flex flex-col items-center justify-center gap-5 relative"
        >
          <div
            id="progressView"
            class="view-container flex w-full items-center justify-center transition-all duration-500 ease-in-out"
          >
            <div
              class="progress-ring relative w-52 h-52 sm:w-60 sm:h-60 mx-auto animate-ringFloat"
            >
              <svg
                viewBox="0 0 200 200"
                class="w-full h-full -rotate-90 transition-all duration-500 ease-in-out hover:scale-105"
              >
                <defs>
                  <filter id="glow">
                    <feGaussianBlur stdDeviation="3" result="coloredBlur" />
                    <feMerge>
                      <feMergeNode in="coloredBlur" />
                      <feMergeNode in="SourceGraphic" />
                    </feMerge>
                  </filter>
                </defs>
                <circle
                  cx="100"
                  cy="100"
                  r="75"
                  stroke-width="8"
                  fill="none"
                  stroke="rgba(255,255,255,0.05)"
                ></circle>
                <circle
                  id="progressCircle"
                  class="transition-all duration-1000 ease-[cubic-bezier(0.4,0,0.2,1)]"
                  cx="100"
                  cy="100"
                  r="75"
                  stroke-width="8"
                  fill="none"
                  stroke-linecap="round"
                  stroke="#3b82f6"
                  style="filter: url(#glow)"
                ></circle>
              </svg>
              <div
                class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-center bg-white/10 backdrop-blur-2xl border border-white/20 rounded-full w-40 h-40 sm:w-44 sm:h-44 flex flex-col justify-center items-center shadow-2xl animate-contentBreathe cursor-default"
              >
                <p
                  id="currentAmount"
                  class="text-lg font-semibold text-slate-50 opacity-95"
                >
                  0ml
                </p>
                <p
                  id="percentage"
                  class="progress-percentage text-4xl font-bold leading-none my-1 gradient-text"
                >
                  0%
                </p>
                <p
                  id="remaining"
                  class="text-xs font-medium text-slate-200 opacity-90"
                >
                  Remaining: 2000ml
                </p>
              </div>
            </div>
          </div>
        </div>

        <div class="controls flex justify-center gap-5">
          <button
            id="minusBtn"
            class="control-btn w-14 h-14 text-2xl font-semibold rounded-2xl border-white/20 text-indigo-400 transition-all duration-400 shadow-lg hover:-translate-y-1 hover:scale-110 active:scale-105 active:-translate-y-0.5"
          >
            -
          </button>
          <button
            id="plusBtn"
            class="control-btn w-14 h-14 text-2xl font-semibold rounded-2xl border-white/20 text-indigo-400 transition-all duration-400 shadow-lg hover:-translate-y-1 hover:scale-110 active:scale-105 active:-translate-y-0.5"
          >
            +
          </button>
        </div>

        <div
          class="custom-settings space-y-4 p-4 bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl mx-auto w-full max-w-sm"
        >
          <div class="setting-item">
            <div class="flex justify-between items-center mb-2">
              <label for="goalSlider" class="text-sm font-medium text-slate-200"
                >Daily Goal</label
              >
              <span
                id="goalValue"
                class="text-sm font-semibold text-teal-400"
              ></span>
            </div>
            <input
              id="goalSlider"
              type="range"
              min="1000"
              max="4000"
              step="100"
            />
          </div>
          <div class="setting-item">
            <div class="flex justify-between items-center mb-2">
              <label
                for="drinkAmountSlider"
                class="text-sm font-medium text-slate-200"
                >Amount per Drink</label
              >
              <span
                id="drinkAmountValue"
                class="text-sm font-semibold text-teal-400"
              ></span>
            </div>
            <input
              id="drinkAmountSlider"
              type="range"
              min="50"
              max="1000"
              step="50"
            />
          </div>
        </div>
      </div>

      <div
        class="history-content flex flex-col gap-4 animate-[fadeInScale_0.5s_ease-out] mt-10 md:mt-0 md:col-start-2 md:row-start-2 md:mx-auto md:w-full md:max-w-md md:flex md:justify-center"
      >
        <div id="historySummary" class="flex justify-around gap-2 sm:gap-4">
          <div
            class="summary-card text-center flex-1 p-3 sm:p-4 rounded-2xl border border-white/20 transition-all duration-400 cursor-default"
          >
            <p
              id="todayIntake"
              class="summary-value gradient-text text-lg sm:text-xl font-bold mb-1"
            >
              0ml
            </p>
            <p class="text-xs sm:text-sm font-medium text-slate-200 opacity-90">
              Today
            </p>
          </div>
          <div
            class="summary-card text-center flex-1 p-3 sm:p-4 rounded-2xl border border-white/20 transition-all duration-400 cursor-default"
          >
            <p
              id="todayGoal"
              class="summary-value gradient-text text-lg sm:text-xl font-bold mb-1"
            >
              2000ml
            </p>
            <p class="text-xs sm:text-sm font-medium text-slate-200 opacity-90">
              Goal
            </p>
          </div>
          <div
            class="summary-card text-center flex-1 p-3 sm:p-4 rounded-2xl border border-white/20 transition-all duration-400 cursor-default"
          >
            <p
              id="totalDrinks"
              class="summary-value gradient-text text-lg sm:text-xl font-bold mb-1"
            >
              0
            </p>
            <p class="text-xs sm:text-sm font-medium text-slate-200 opacity-90">
              Drinks
            </p>
          </div>
        </div>
        <div
          class="timeline p-4 rounded-2xl border border-white/20 flex flex-col backdrop-blur-2xl min-h-[395px] md:h-96"
        >
          <h3 class="text-base font-semibold mb-2 text-slate-50">
            Today's Intake
          </h3>
          <div
            id="timelineItems"
            class="flex-1 flex flex-col gap-2 overflow-y-auto min-h-0 max-h-full"
          >
            <div
              class="empty-state m-auto text-center text-slate-300 p-8 text-sm opacity-80"
            >
              No drinks logged today
            </div>
          </div>
        </div>
      </div>
    </div>

    <footer class="w-full text-center py-4 px-4 md:py-6">
      <div class="max-w-7xl mx-auto">
        <p class="text-sm text-slate-400 opacity-80">
          Track your daily water intake effortlessly.
        </p>
        <p class="text-xs text-slate-500 mt-1">
          Made with
          <svg
            class="inline-block align-middle mx-1"
            width="15px"
            height="15px"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M8.10627 18.2468C5.29819 16.0833 2 13.5422 2 9.1371C2 4.27416 7.50016 0.825464 12 5.50063L14 7.49928C14.2929 7.79212 14.7678 7.79203 15.0607 7.49908C15.3535 7.20614 15.3534 6.73127 15.0605 6.43843L13.1285 4.50712C17.3685 1.40309 22 4.67465 22 9.1371C22 13.5422 18.7018 16.0833 15.8937 18.2468C15.6019 18.4717 15.3153 18.6925 15.0383 18.9109C14 19.7294 13 20.5 12 20.5C11 20.5 10 19.7294 8.96173 18.9109C8.68471 18.6925 8.39814 18.4717 8.10627 18.2468Z"
              fill="#14b8a6"
            />
          </svg>
          for a healthier you.
        </p>
      </div>
    </footer>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        class LoadingManager {
          constructor() {
            this.loadingScreen = document.getElementById("loadingScreen");
            this.loadingBubblesContainer =
              document.getElementById("loadingBubbles");
            if (this.loadingScreen) this.startLoadingSequence();
          }

          startLoadingSequence() {
            const minLoadTime = 2800;
            const startTime = Date.now();

            if (this.loadingBubblesContainer) {
              for (let i = 0; i < 15; i++) {
                const bubble = document.createElement("div");
                const size = Math.random() * 4 + 4;
                bubble.className = "loading-bubble absolute rounded-full";
                bubble.style.width = `${size}px`;
                bubble.style.height = `${size}px`;
                bubble.style.left = `${Math.random() * 100}%`;
                bubble.style.animation = `loadingBubbleFloat ${
                  6 + Math.random() * 4
                }s ease-in-out ${Math.random() * 4}s infinite`;
                this.loadingBubblesContainer.appendChild(bubble);
              }
            }

            window.addEventListener("load", () => {
              const elapsed = Date.now() - startTime;
              const remainingTime = Math.max(0, minLoadTime - elapsed);
              setTimeout(() => this.hide(), remainingTime);
            });
          }

          hide() {
            if (this.loadingScreen) {
              this.loadingScreen.classList.add("opacity-0", "invisible");
              setTimeout(() => this.loadingScreen.remove(), 800);
            }
          }
        }

        class BubbleManager {
          constructor() {
            this.container = document.getElementById("bubbleContainer");
            if (!this.container) return;
            this.activeBubbles = new Set();
            this.createInitialBubbles();
            this.startBubbleGeneration();
          }

          createMovingBubble(speed = "normal") {
            const bubble = document.createElement("div");
            bubble.className = "bg-bubble";

            const sizes = ["w-2 h-2", "w-3 h-3", "w-4 h-4", "w-5 h-5"];
            const size = sizes[Math.floor(Math.random() * sizes.length)];
            bubble.classList.add(...size.split(" "));

            bubble.style.left = `${Math.random() * 95}%`;
            bubble.style.top = "-20px";

            let duration, animationName;
            if (speed === "fast") {
              duration = 3 + Math.random() * 4;
              animationName = "bubbleFloat";
            } else {
              duration = 15 + Math.random() * 20;
              animationName = "bubbleSlowFloat";
            }
            const delay = Math.random() * 5;
            bubble.style.animation = `${animationName} ${duration}s linear ${delay}s forwards`;

            this.container.appendChild(bubble);
            this.activeBubbles.add(bubble);

            setTimeout(() => {
              bubble.remove();
              this.activeBubbles.delete(bubble);
            }, (duration + delay) * 1000);
          }

          createInitialBubbles() {
            for (let i = 0; i < 15; i++) {
              this.createMovingBubble("slow");
            }
          }

          startBubbleGeneration() {
            setInterval(() => {
              if (this.activeBubbles.size < 30) {
                this.createMovingBubble("slow");
              }
            }, 1000);
          }

          createBurst(count = 12) {
            for (let i = 0; i < count; i++) {
              setTimeout(() => this.createMovingBubble("fast"), i * 50);
            }
          }
        }

        class HydrationTracker {
          constructor(bubbleManager) {
            this.bubbleManager = bubbleManager;
            this.currentIntake = 0;
            this.dailyGoal = 2000;
            this.drinkAmount = 250;
            this.drinks = [];
            this.circumference = 2 * Math.PI * 75;

            this.initElements();
            this.loadData();
            this.setupEventListeners();
            this.updateAndSave();
            this.updateDate();
          }

          initElements() {
            this.els = {
              currentAmount: document.getElementById("currentAmount"),
              percentage: document.getElementById("percentage"),
              remaining: document.getElementById("remaining"),
              progressCircle: document.getElementById("progressCircle"),
              timelineItems: document.getElementById("timelineItems"),
              currentDate: document.getElementById("currentDate"),
              plusBtn: document.getElementById("plusBtn"),
              minusBtn: document.getElementById("minusBtn"),
              todayIntake: document.getElementById("todayIntake"),
              todayGoal: document.getElementById("todayGoal"),
              totalDrinks: document.getElementById("totalDrinks"),
              goalSlider: document.getElementById("goalSlider"),
              goalValue: document.getElementById("goalValue"),
              drinkAmountSlider: document.getElementById("drinkAmountSlider"),
              drinkAmountValue: document.getElementById("drinkAmountValue"),
            };
            this.els.progressCircle.style.strokeDasharray = `${this.circumference} ${this.circumference}`;
          }

          setupEventListeners() {
            this.els.plusBtn.addEventListener("click", () => this.addDrink());
            this.els.minusBtn.addEventListener("click", () =>
              this.removeDrink()
            );
            this.els.goalSlider.addEventListener("input", (e) => {
              this.els.goalValue.textContent = `${e.target.value}ml`;
              this.updateSliderBackground(this.els.goalSlider);
            });
            this.els.goalSlider.addEventListener("change", (e) => {
              this.setGoal(parseInt(e.target.value));
            });

            this.els.drinkAmountSlider.addEventListener("input", (e) => {
              this.els.drinkAmountValue.textContent = `${e.target.value}ml`;
              this.updateSliderBackground(this.els.drinkAmountSlider);
            });
            this.els.drinkAmountSlider.addEventListener("change", (e) => {
              this.setDrinkAmount(parseInt(e.target.value));
            });
          }

          addDrink() {
            this.drinks.push({
              amount: this.drinkAmount,
              time: new Date().toLocaleTimeString("en-US", {
                hour: "2-digit",
                minute: "2-digit",
              }),
              date: this.getTodayDateString(),
            });
            this.updateAndSave();
            if (this.bubbleManager) {
              this.bubbleManager.createBurst();
            }
          }

          removeDrink() {
            const today = this.getTodayDateString();
            const lastDrinkIndex = this.drinks.findLastIndex(
              (d) => d.date === today
            );
            if (lastDrinkIndex > -1) {
              this.drinks.splice(lastDrinkIndex, 1);
              this.updateAndSave();
            }
          }

          setGoal(goal) {
            this.dailyGoal = goal;
            this.updateProgressDisplay();
            this.saveData();
          }

          setDrinkAmount(amount) {
            this.drinkAmount = amount;
            this.saveData();
          }

          updateAndSave() {
            this.updateDisplay();
            this.saveData();
          }

          updateSliderBackground(slider) {
            const min = slider.min;
            const max = slider.max;
            const value = slider.value;
            const percentage = ((value - min) / (max - min)) * 100;
            const fillColor = "#14b8a6";
            const trackColor = "rgba(255, 255, 255, 0.1)";

            slider.style.background = `linear-gradient(to right, ${fillColor} ${percentage}%, ${trackColor} ${percentage}%)`;
          }

          updateProgressDisplay() {
            const percentage = Math.min(
              (this.currentIntake / this.dailyGoal) * 100,
              100
            );
            const remaining = Math.max(this.dailyGoal - this.currentIntake, 0);

            this.els.currentAmount.textContent = `${this.currentIntake}ml`;
            this.els.todayIntake.textContent = `${this.currentIntake}ml`;
            this.els.percentage.textContent = `${Math.round(percentage)}%`;
            this.els.remaining.textContent = `Remaining: ${remaining}ml`;
            this.els.todayGoal.textContent = `${this.dailyGoal}ml`;

            this.els.progressCircle.style.strokeDashoffset =
              this.circumference - (percentage / 100) * this.circumference;

            let strokeColor = "#3b82f6";
            if (percentage < 25) strokeColor = "#ef4444";
            else if (percentage < 50) strokeColor = "#f59e0b";
            else if (percentage >= 100) strokeColor = "#10b981";
            this.els.progressCircle.setAttribute("stroke", strokeColor);
          }

          updateDisplay() {
            const todaysDrinks = this.drinks.filter(
              (d) => d.date === this.getTodayDateString()
            );
            this.currentIntake = todaysDrinks.reduce(
              (sum, drink) => sum + drink.amount,
              0
            );

            const percentage = Math.min(
              (this.currentIntake / this.dailyGoal) * 100,
              100
            );
            const remaining = Math.max(this.dailyGoal - this.currentIntake, 0);

            this.els.currentAmount.textContent = `${this.currentIntake}ml`;
            this.els.percentage.textContent = `${Math.round(percentage)}%`;
            this.els.remaining.textContent = `Remaining: ${remaining}ml`;
            this.els.todayIntake.textContent = `${this.currentIntake}ml`;
            this.els.todayGoal.textContent = `${this.dailyGoal}ml`;
            this.els.totalDrinks.textContent = todaysDrinks.length;

            this.els.goalSlider.value = this.dailyGoal;
            this.els.goalValue.textContent = `${this.dailyGoal}ml`;
            this.updateSliderBackground(this.els.goalSlider);

            this.els.drinkAmountSlider.value = this.drinkAmount;
            this.els.drinkAmountValue.textContent = `${this.drinkAmount}ml`;
            this.updateSliderBackground(this.els.drinkAmountSlider);

            this.els.progressCircle.style.strokeDashoffset =
              this.circumference - (percentage / 100) * this.circumference;

            let strokeColor = "#3b82f6";
            if (percentage < 25) strokeColor = "#ef4444";
            else if (percentage < 50) strokeColor = "#f59e0b";
            else if (percentage >= 100) strokeColor = "#10b981";
            this.els.progressCircle.setAttribute("stroke", strokeColor);

            this.updateTimeline(todaysDrinks);
          }

          updateTimeline(todaysDrinks) {
            if (todaysDrinks.length === 0) {
              this.els.timelineItems.innerHTML = `<div class="empty-state m-auto text-center text-slate-300 p-8 text-sm opacity-80">No drinks logged today</div>`;
              return;
            }
            this.els.timelineItems.innerHTML = todaysDrinks
              .slice()
              .reverse()
              .map(
                (drink) => `
                        <div class="timeline-item flex justify-between items-center px-3.5 py-2.5 min-h-[44px] bg-white/[.06] border border-white/[.08] rounded-xl transition-all duration-400 shrink-0 animate-[slideInUp_0.5s_ease-out]">
                            <span class="text-sm font-medium opacity-90">${drink.time}</span>
                            <span class="text-sm font-semibold text-teal-400">+${drink.amount}ml</span>
                        </div>
                    `
              )
              .join("");
          }

          updateDate() {
            this.els.currentDate.textContent = new Date().toLocaleDateString(
              "en-US",
              { weekday: "long", month: "long", day: "numeric" }
            );
          }

          saveData() {
            localStorage.setItem(
              "hydrationData",
              JSON.stringify({
                dailyGoal: this.dailyGoal,
                drinkAmount: this.drinkAmount,
                drinks: this.drinks,
              })
            );
          }

          loadData() {
            const data = JSON.parse(localStorage.getItem("hydrationData"));
            if (data) {
              this.dailyGoal = data.dailyGoal || 2000;
              this.drinkAmount = data.drinkAmount || 250;
              this.drinks = data.drinks || [];
            }
          }

          getTodayDateString() {
            if (this.mockDate) {
              return this.mockDate;
            }
            return new Date().toISOString().split("T")[0];
          }
        }

        new LoadingManager();
        const bubbleManager = new BubbleManager();
        new HydrationTracker(bubbleManager);
      });
    </script>
  </body>
</html>
